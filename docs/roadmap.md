## Roadmap проекта

### 1. Разделение на эпики и спринты 

### Спринт 0 (Подготовительный)
**Цель:** Настройка окружения и инфраструктуры.
- Настройка Docker, Docker Compose
- Создание репозиториев (backend, frontend)
- Развертывание Ollama с моделями (llava, llama3.2)
- Проектирование и согласование API-контрактов

### Эпик 1: Базовый каркас и аутентификация
**Цель:** Создание основы приложения и системы безопасности.

**Спринт 1: Backend-основа**
- Реализация API Gateway на FastAPI
- Сервис аутентификации (JWT-токены)
- Модели пользователя в PostgreSQL
- Docker-контейнеризация backend

**Спринт 2: Frontend-основа**
- Базовая структура Next.js приложения
- Страницы регистрации и входа
- Лендинг-страница продукта
- Интеграция с backend API

### Эпик 2: Ядро функциональности анализа
**Цель:** Реализация основной функции оценки блюд.

**Спринт 3: Backend для анализа**
- Интеграция с Ollama через LangChain
- Создание асинхронного воркера (Celery + Redis)
- Эндпоинт `/api/v1/analyze`
- Промпт-инжиниринг для оценки блюд

**Спринт 4: Frontend для анализа**
- Интерфейс загрузки фото (drag-and-drop)
- Текстовое поле для рецепта
- Отображение результата (оценки, фидбек)
- Индикатор статуса обработки

### Эпик 3: Работа с рецептами и историей
**Цель:** Добавление функций сохранения и просмотра.

**Спринт 5: Backend хранения данных**
- CRUD API для рецептов
- Сохранение истории оценок
- Связь оценок с рецептами и пользователями
- Пагинация для истории

**Спринт 6: Личный кабинет**
- Раздел "Мои рецепты" (список, добавление, удаление)
- Раздел "История оценок" с фильтрацией
- Детальный просмотр прошлых анализов
- Статистика прогресса пользователя

### Эпик 4: Доводка и подготовка к запуску (MVP)
**Цель:** Оптимизация, тестирование и деплой.

**Спринт 7: Оптимизация и полировка**
- Fine-tuning промптов LLM на основе тестов
- Кеширование частых запросов (Redis)
- Адаптивная верстка под мобильные устройства
- Улучшение UX/UI на основе фидбека

**Спринт 8: Тестирование и релиз**
- Нагрузочное тестирование API
- Исправление критических багов
- Развертывание на тестовом сервере
- Подготовка документации для MVP

## 2. Приоритизация функций для MVP

### Высокий приоритет (Must Have)
- **Анализ по фото+тексту:** Основная функция продукта
- **Вывод двух оценок:** "Соответствие рецепту" и "Вкусный вид" (1-5)
- **Сохранение в историю:** Автоматическое сохранение каждого анализа
- **Личный кабинет с историей:** Просмотр всех прошлых оценок

### Средний приоритет (Should Have)
- **Выбор из сохраненных рецептов:** Использование ранее введенных рецептов
- **Базовые рекомендации:** Простые советы по улучшению ("добавьте зелени", "попробуйте дольше готовить")
- **Категоризация блюд:** Автоматическое определение типа блюда

### Низкий приоритет (Could Have)
- **Социальные функции:** Поделиться оценкой в соцсетях
- **Расширенная аналитика:** Графики прогресса, сравнение с другими пользователями
- **Интеграция с рецепт-сайтами:** Импорт рецептов из популярных сайтов
- **Мультиязычность:** Поддержка нескольких языков

## 3. Зависимости задач и митигация рисков

| Риск | Вероятность | Влияние | Меры по смягчению (Mitigation) |
|------|-------------|---------|--------------------------------|
| **Низкая точность/качество оценки от LLM** | Высокая | Критическое | 1. Выделить отдельный спринт на промпт-инжиниринг<br>2. Создать валидационную выборку из 100+ блюд<br>3. Реализовать fallback-ответ с базовыми критериями оценки<br>4. Добавить механизм пользовательского фидбека для улучшения модели |
| **Долгое время ответа от моделей (>20 сек)** | Высокая | Высокое | 1. Асинхронная архитектура с immediate response<br>2. Внедрение WebSocket для обновления статуса<br>3. Кеширование результатов похожих анализов<br>4. Мониторинг времени ответа и автоматическое масштабирование |
| **Нехватка вычислительных ресурсов** | Средняя | Высокое | 1. Тестирование на минимальных конфигурациях (CPU, 8GB RAM)<br>2. План перехода на облачные GPU (Hetzner, RunPod)<br>3. Оптимизация моделей (квантование)<br>4. Rate limiting для пользователей |
| **Сложность интеграции двух LLM** | Средняя | Среднее | 1. Использование LangChain для оркестрации<br>2. Разработка модульного пайплаина с четкими интерфейсами<br>3. Создание мок-сервисов для разработки без реальных LLM |
| **Низкое пользовательское принятие** | Средняя | Высокое | 1. Ранний запуск MVP в закрытом бета-тестировании<br>2. Регулярный сбор фидбека через встроенные опросы<br>3. A/B тестирование интерфейсов<br>4. Гибкая адаптация продукта на основе метрик |

### Критические зависимости задач:
1. **Спринт 2 зависит от Спринта 1:** Без работающей аутентификации frontend не может функционировать
2. **Спринт 4 зависит от Спринта 3:** Интерфейс анализа требует готового backend-пайплаина
3. **Спринт 6 зависит от Спринта 5:** Личный кабинет требует API для работы с рецептами и историей
4. **Все спринты зависят от Спринта 0:** Инфраструктура должна быть настроена до начала разработки