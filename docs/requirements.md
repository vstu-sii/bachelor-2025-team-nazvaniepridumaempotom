## Технические требования
### 1. Анализ Use-Cases и формулировка технических требований

| Use-Case из PRD | Ключевые требования пользователя | Выводы и технические требования (TR) |
| :--- | :--- | :--- |
| **UC-1: Оценка по новому рецепту** | Получить объективную оценку по фото и тексту рецепта. | **TR-1:** Система должна принимать изображение и текстовый рецепт. <br> **TR-2:** Должна возвращать две числовые оценки (1-5). <br> **TR-3:** Необходимо сохранять связку данных (фото, рецепт, оценки) в историю. |
| **UC-2: Оценка по сохраненному рецепту** | Быстро оценить блюдо, используя прошлые рецепты. | **TR-4:** Система должна хранить историю рецептов с возможностью быстрого выбора. <br> **TR-5:** Должна уметь связывать новое фото с выбранным старым рецептом. |
| **UC-3: Просмотр истории** | Видеть прогресс, сравнивать результаты. | **TR-6:** Организовать хранилище всех оценок с выборкой по пользователю и сортировкой по дате. <br> **TR-7:** Интерфейс должен отображать историю в виде наглядных карточек. |

**Итоговый список технических требований (TR):**
*   **TR-1:** Прием и валидация загружаемых изображений.
*   **TR-2:** Прием и обработка текстового рецепта (до 2000 символов).
*   **TR-3:** Интеграция с LLM (Llava) для анализа "изображение + рецепт".
*   **TR-4:** Интеграция с LLM (Llama 3.2) для финальной оценки и обратной связи.
*   **TR-5:** Хранение данных пользователя, его рецептов и истории оценок.
*   **TR-6:** RESTful API для взаимодействия фронтенда и бэкенда.
*   **TR-7:** Веб-интерфейс для загрузки контента, выбора рецептов и просмотра истории.

### 2. Определение нефункциональных требований (метрики производительности)
*   **Скорость отклика:** Время от загрузки фото до получения оценки — **≤15 секунд**.
*   **Доступность:** Целевой уровень доступности API — **99%** (с 8:00 до 00:00).
*   **Масштабируемость:** Возможность увеличить кол-во одновременных запросов с 10 до 100 за счет ресурсов.
*   **Безопасность:** Аутентификация, изоляция данных, валидация файлов.

### 3. Выбор архитектурных принципов
*   **Многослойная архитектура:** Четкое разделение на Frontend, Backend API и Database.
*   **Принцип единственной ответственности:** Каждый модуль отвечает за одну задачу.
*   **Event-Driven для тяжелых задач:** Асинхронная обработка запросов через очередь (Redis Queue).
*   **API-First:** Все взаимодействия строятся вокруг четко определенных API-контрактов.
